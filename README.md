
---

### 🌈 Vim 命令大全 · 美化速查表
| 模式 | 功能 | 命令（含最常用选项） | 一句话备注 |
|---|---|---|---|
| **🌍 全局** | 启动/退出 | `vim +尾行 file` | 直接跳到最后一行 |
| | 只读模式 | `view file` 或 `vim -R file` | 防误写 |
| | 差异比对 | `vim -d file1 file2` | 内置 vimdiff |
| | 恢复交换 | `vim -r .swp` | 崩溃后找回 |
| **📥 插入模式** | 进入 | `i`（前） `a`（后） `I`（行首） `A`（行尾） | 四把钥匙 |
| | 新行插入 | `o`（下） `O`（上） | 自动缩进 |
| | 返回普通 | `Esc` 或 `Ctrl+[` | 万能返回 |
| **🔍 普通模式-移动** | 字符 | `h l j k` | 左手方向 |
| | 单词 | `w W b B e E` | 小写跳词，大写跳段 |
| | 行级 | `0 ^ $` | 硬行首 / 软行首 / 行尾 |
| | 屏幕 | `H M L` | 高/中/低 |
| | 文档 | `gg G` | 首行 / 尾行 |
| | 百分比 | `50%` | 跳到一半 |
| | 括号跳转 | `%` | `()`, `[]`, `{}` 配对 |
| **📏 普通模式-跳转** | 行号 | `:42` 或 `42G` | 精准定位 |
| | 上次位置 | `` ` ` `` | 两个反引号 |
| | 上次编辑 | `.` | 点号 |
| | 标记 | `ma` 设 `a` 标记；`` `a `` 回 | 全局可用 |
| | 位置列表 | `:jumps` | 查看历史 |
| **✏️ 普通模式-编辑** | 替换 | `r` 单字符 `R` 连续替换 | 不用进插入 |
| | 删除 | `x` 字符 `dw` 单词 `dd` 行 `D` 到行尾 | 搭配数字 `3dd` |
| | 复制 | `yy` 行 `yw` 单词 `Y` 整行 | 同删除 |
| | 粘贴 | `p`（后） `P`（前） | 可粘字符/行 |
| | 撤销 | `u` | 无限撤销 |
| | 重做 | `Ctrl+r` | 反撤销 |
| | 重复 | `.` | 重复上次修改 |
| **🔎 普通模式-搜索** | 向下 | `/pattern` | 支持正则 |
| | 向上 | `?pattern` | 反向 |
| | 下一个 | `n` | 同方向 |
| | 上一个 | `N` | 反方向 |
| | 忽略大小写 | `:set ic` | `smartcase` 组合 |
| | 高亮开关 | `:set hls!` | 快速 toggle |
| | 全局替换 | `:%s/foo/bar/g` | 全局 |
| | 确认替换 | `:%s/foo/bar/gc` | 每点一次 y |
| **📐 可视模式** | 进入 | `v` 字符 `V` 行 `Ctrl+v` 块 | 多光标前身 |
| | 块插入 | `Ctrl+v` 选列 `I` 插入 `Esc` | 批量加注释 |
| | 块替换 | `r` 新字符 | 整列替换 |
| **🗂️ 缓冲区** | 列表 | `:ls` | 显示编号 |
| | 切换 | `:bn` 下一个 `:bp` 上一个 `:b 3` 跳编号 | 速切 |
| | 删除 | `:bd` | 不保存关闭 |
| **🪟 窗口分割** | 横分 | `:sp` | 同文件 |
| | 竖分 | `:vsp` | 同文件 |
| | 新文件横分 | `:sp new.txt` | 直接打开 |
| | 窗口跳转 | `Ctrl+w h/j/k/l` | 四向 |
| | 窗口大小 | `Ctrl+w +` / `-` | 增减高度 |
| | 等宽等高 | `Ctrl+w =` | 一键均衡 |
| **🗃️ 标签页** | 新建 | `:tabnew` | 类似浏览器 |
| | 关闭 | `:tabc` | 当前页 |
| | 切换 | `gt` `gT` | 下一/上一 |
| | 移动 | `:tabm 0` | 移到最左 |
| **📜 折叠** | 创建 | `zfap` | 按段落折 |
| | 打开 | `zo` | 当前层 |
| | 关闭 | `zc` | 当前层 |
| | 全部展开 | `zR` | 递归 |
| | 全部收起 | `zM` | 递归 |
| **🧮 宏录制** | 开始 | `qa` | 寄存器 a |
| | 结束 | `q` | 再按一次 |
| | 回放 | `@a` | 执行 a |
| | 重复回放 | `@@` | 上一次 |
| **🧩 补全与缩写** | 单词补全 | `Ctrl+n` / `Ctrl+p` | 基于缓冲区 |
| | 行补全 | `Ctrl+x Ctrl+l` | 整行 |
| | 路径补全 | `Ctrl+x Ctrl+f` | 文件名 |
| | 缩写 | `:ab asap as soon as possible` | 输入 asap+空格→展开 |
| **⚙️ 选项开关** | 行号 | `:set nu` `:set nonu` | toggle |
| | 相对行号 | `:set rnu` | 跳转神器 |
| | 自动缩进 | `:set ai` | 智能 |
| | 高亮搜索 | `:set hls` | 搜索结果高亮 |
| | 语法高亮 | `:syntax on` | 彩色代码 |
| | 文件类型检测 | `:filetype plugin indent on` | 自动缩进 |
| **🧪 高级技巧** | 外部过滤 | `:%!sort -u` | 全文去重排序 |
| | 日期插入 | `!!date` | 当前时间 |
| | 批量加行号 | `:set nu` → `:%!cat -n` → `:set nonu` | 临时 |
| | 十六进制 | `:%!xxd` | 编辑二进制 |
| | 返回文本 | `:%!xxd -r` | 还原 |
| | 只读强制写 | `:w !sudo tee % > /dev/null` | 忘了 sudo 时救命 |
| **📥 插件相关** | 插件管理器 | `:PlugInstall`（vim-plug） | 安装声明的插件 |
| | 插件更新 | `:PlugUpdate` | 一键升级 |
| | 插件清理 | `:PlugClean` | 删除无用 |
| **🚪 离开** | 保存退出 | `:wq` `ZZ` | 两键退出 |
| | 强制退出 | `:q!` | 不保存 |
| | 另存为 | `:w newname` | 不覆盖原文件 |

---

### 🎨 一行配置「开箱即用」
把下面内容写进 `~/.vimrc`，立即获得行号、语法、鼠标、退格等现代体验：

```vim
" 基础现代感
set number relativenumber
syntax on
filetype plugin indent on
set autoindent
set backspace=2
set mouse=a

" 搜索更顺手
set hlsearch incsearch ignorecase smartcase
nnoremap <leader><space> :nohl<CR>

" 插入选区返回
vnoremap < <gv
vnoremap > >gv

" 快速保存/退出
nnoremap <leader>w :w<CR>
nnoremap <leader>q :q<CR>
```

---

### ⚡ 10 秒记忆口诀
```
h j k l  方向牛
w b e    单词走
dd yy p  删复粘
u . Ctrl+r  撤重做
/ ? n N  搜上搜
:%s///g  全局修
:vsp :sp  分屏溜
Esc 回普通，i 进插入，q! 强退走
```

祝使用愉快，Vim 常伴 
